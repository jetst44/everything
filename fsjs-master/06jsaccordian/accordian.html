<!doctype html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<title>HS JS Test</title>
	<link href="https://fonts.googleapis.com/css?family=Work+Sans:400,600" rel="stylesheet">
	<style>
		* {
			box-sizing: border-box;
			font-family: 'Work Sans';
		}
		
		.accontainer {
			max-width: 700px;
			margin: 0px auto 30px auto;
		}
		
		.ac {
			border: 1px #000 solid;
			margin-bottom: 15px;
		}
		
		.ac>h3 {
			background-repeat: no-repeat;
			background-position: center right;
			margin: 10px;
			padding: 5px;
		}
		
		.ac_content:after {
			content: ".";
			visibility: hidden;
			display: block;
			height: 0;
			clear: both;
		}
		
		.acleft,
		.acright {
			float: left;
		}
		
		.acleft {
			width: 300px;
			padding: 0px 30px;
		}
		
		.acright {
			width: 378px;
		}
		
		.acright img {
			max-width: 100%;
		}
		
		.ac>div {
			display: none;
			padding: 0px 0px 0px 20px;
		}
		.ac>h3, .cola, .expa{
			cursor: pointer;
		}
	</style>
</head>

<body>
	<div class="accontainer">
		<h1>Bru Theme</h1>
		<div class="ac bru">
			<h3>Bru Title 1</h3>
			<div class="ac_content">
				<div class="acleft">
					<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
				</div>
				<div class="acright">
					<img src="bru-content.jpg">
				</div>
			</div>
		</div>
		<div class="ac bru">
			<h3>Bru Title 1</h3>
			<div class="ac_content">
				<div class="acleft">
					<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
				</div>
				<div class="acright">
					<img src="bru-content.jpg">
				</div>
			</div>
		</div>
	</div>

	<div class="accontainer">

		<h1>Tru Theme</h1>
		<div class="ac tru">
			 <h3>Tru Title 1</h3>
			<div class="ac_content">
				<div class="acleft">
					<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
				</div>
				<div class="acright">
					<img src="tru-content.jpg">
				</div>
			</div>
		</div>
		<div class="ac tru">
			<h3>Tru Title 2</h3>
			<div class="ac_content">
				<div class="acleft">
					<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
				</div>
				<div class="acright">
					<img src="tru-content.jpg">
				</div>
			</div>
		</div>
	</div>
	<div class="accontainer">
		<h1>Mixed Theme (Going Cray)</h1>
		<div class="ac bru">
			<h3>Bru Title 1</h3>
			<div class="ac_content">
				<div class="acleft">
					<div>
						<h1>Lorem ipsum</h1>
						<h3>Lorem ipsum</h3>
						<p><b>Lorem</b> <i>ipsum</i></p>
					</div>
					<ol>
						<li>Lorem ipsum</li>
						<li>Lorem ipsum</li>
					</ol>
				</div>
				<div class="acright">
					<img src="tru-content.jpg">
				</div>
			</div>
		</div>
		<div class="ac tru">
			<h3>Min Syntax</h3>
			<div class="ac_content">
				<p>this is the only code needed to make an accordian</p>
				<xmp>
					<div class="accontainer">
						<div class="ac tru">
							<h3>Title Here</h3>
							<div>
								content here
							</div>
						</div>
					</div>
				</xmp>
			</div>
		</div>
	</div>

	<script>
		//first create the links dynamically for each accordion container
		var acc = document.querySelectorAll('.accontainer');

		for (var i = 0; i < acc.length; i++) {
			acc[i].innerHTML += '<p><b class="cola">collapse all</b> | <b class="expa">expand all</b></p>';
		};

		//capture all the H3s...
		var ach = document.querySelectorAll('.ac > H3');

		//...loop through them and do the following
		for (a = 0; a < ach.length; a++) {
			//1. look for the the class bru or tru to establish theme styles
			if (ach[a].parentElement.className.indexOf('bru') > -1) {
				ach[a].style.cssText = 'background-image:url("bru-closed.jpg"); color:#532997;';
			} else {
				ach[a].style.cssText = 'background-image:url("tru-closed.jpg"); color:#005faf;';
			};

			function dynamicStyle(x){
				if(x == true){
					display = "block";
					bg1 = "closed";
					bg2 = "opened";
				} else{
					display = "none";
					bg1 = "opened";
					bg2 = "closed";
				}
			}

			//2. bind a click event to toggle the display of the following sibling and restyle
			ach[a].onclick = function() {
				var acStuff = this.nextElementSibling;
				var ad = acStuff.style.display;
				dynamicStyle(ad != 'block');
				acStuff.style.display = display;
				this.style.backgroundImage = this.style.backgroundImage.replace(bg1,bg2);
			};
		};

		//trigger click on expanded accordians to collapse
		var btn = document.querySelectorAll('.cola, .expa');
		for (var i = 0; i < btn.length; i++) {
			btn[i].onclick = function(){
				dynamicStyle(this.className.indexOf("expa") > -1);
				var acStuff = this.parentElement.parentElement.querySelectorAll('.ac > .ac_content');
				console.log(acStuff);
				for ( var i = 0; i < acStuff.length; ++i ){
					var ph = acStuff[i].previousElementSibling;
					acStuff[i].style.display = display;
					ph.style.backgroundImage = ph.style.backgroundImage.replace(bg1,bg2);
				};
			};
		};

	</script>
</body>

</html>